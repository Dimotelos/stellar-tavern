## Permastars: StarScar

> 恒耀星火：星痕 & 星辉

**星痕流体**(`fluid`)  *核心*
- 产出方式：
  1. 自然结构：星痕湖泊 *特点：生成在地下y∈(63, 48)附近，生成总量`40B/chunks`*
  2. 星辉凝聚：通过**星辉力**转化为流体
- 消耗方式：
  1. 通过星痕富集仓。
  2. 使用桶等方式舀起。
  3. 被其他方块替换（会转化为星痕力）。
- 触碰BUFF：
  - *还没细想……*

**星辉力**(区块属性值)
- 与星痕流体的转换：1mB星痕流体 = 1星辉力
- 产出方式：
  1. 通过富集星辉地(`biome`)自然生成
  2. 通过星辉科技消耗星痕流体产生
- 消耗方式：
  1. 自然凝聚：每2分钟尝试一次，寻找该区块已有的星痕流体源方块（若不存在，则随机选择符合条件的方块），判断其周围六格是否有流动星痕流体方块或(非露天)空气方块，
     若存在该种方块则有`星辉力/120k`的概率消耗1000星辉力生成星痕流体源方块。
  2. 主动凝聚：若该区块存在奥罗拉聚合器(`block`)，会额外触发每个奥罗拉聚合器的凝聚。

**星辉崩毁**(事件)
- 该事件发生时，会检查3x3区块范围内所有的星辉科技类方块，破坏，并按照星辉科技类方块的星辉力缓存、合成材料的星辉力消耗等，等量转换为该区块的星辉力。
- 星辉崩毁的区块若其中有`****`，则会触发其爆炸（类似tnt）。
- 为避免事件发生，可以：
  1. 关闭配置文件；
  2. 控制奥罗拉聚合器下方空间足够进行通常凝聚；
  3. 通过星痕富集仓(`block`)（可配合缓冲器(`block`)）将星痕流体进行存储和**结晶**(将星痕流体转化为物品形式)。
  4. ~~通过软管滑轮和机械手将星痕流体在同一格内不断放置以*饮鸩止渴*~~

**星辉科技**
- 奥罗拉聚合器：
  - 通常凝聚：奥罗拉聚合器每分钟有`33.3%`的固定概率，在`y`值小于聚合器`y`值的方块范围内判断并生成星痕流体源方块：
    - 当范围内存在星痕流体源方块且附近满足自然凝聚条件，则按照自然凝聚规则（除概率外）进行凝聚；
    - 当范围内不存在星痕流体源方块 或 存在的星痕流体源方块附近均不满足自然凝聚条件 时，奥罗拉聚合器会**破坏**其下方的方块并替换为星痕流体源方块，
      并在之后破坏附近的方块以凝聚星痕流体。 ~~我才不会说可以用软管滑轮抽上来~~
  - 供给凝聚：若奥罗拉聚合器安装了星痕富集模块(`item`)，奥罗拉聚合器会以`50/t`的速率向下方的星辉科技类方块供给星辉力。
    若下方的星辉科技类方块满溢，会按照通常凝聚的规则主动凝聚尝试凝聚星痕流体；
    **若范围内不满足上述凝聚规则，同样会破坏下方的星辉科技类方块，并引发星辉崩毁**，使得该区块星辉力大幅上升（默认开启，可在配置文件中关闭）。
  - 富集凝聚：若奥罗拉聚合器下方的方块是星痕富集仓(`block`)，奥罗拉聚合器会以`50mB/t`的速率向下方的星痕富集仓供给星痕流体。
    富集仓满溢时同样会出现星辉崩毁。
  - 结晶凝聚：若奥罗拉聚合器下方的方块是铁制结晶框架(`block`)，奥罗拉聚合器会以`50mB/t`的速率向铁制结晶框架供给星痕流体，在铁制结晶框架充满`8B`时
    玩家空手右键可将结晶框架中的星辉结晶(不稳定: 会在2分钟后消失，转换为星辉力)取出。
- 星痕富集仓：能够输入/输出星痕流体、输出星辉力、将`8B`星痕流体结晶成星辉结晶(`item`)。
- 星痕篆刻机：能够向篆刻胚篆刻泰勒斯语言。
- 奥罗拉扩散聚集模块：放置在星辉科技方块/奥罗拉聚合器附近时，使得其星辉力触及能够触及到周围3x3区块。

**星辉科技产物**
- 星辉结晶
  - 不可堆叠；在玩家背包中持有时，每1分钟有`星辉结晶/72`的概率，使得一个结晶消失，并在玩家脚下附近生成8桶星痕流体。结晶流体化可在配置文件中关闭。
- 星辉核心(8星辉结晶+1辉光奥罗拉核心)
  - 稳定的星辉科技产物，但无法避免崩毁。

```markdown
## `StarScar`开发计划

### 新增内容

#### `Item`

#### `Block`

#### `Fluid`

- [ ] 星痕`starscar:starscar`
  - 

#### `WorldGen`

- [ ] 

### 原版修改内容

#### `Block`

#### `Mob`

```